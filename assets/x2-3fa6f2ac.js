import{I as Ge,J as Ke,S as fe,i as _e,s as se,E as ge,l as I,t as M,r as le,b as T,u as ue,v as O,K as Ve,N as G,O as Qe,Q as ee,R as ke,G as oe,T as Ee,U as Be,V as Re,W as De,X as Xe,e as L,h as E,z as te,Y as ve,q as R,Z as Ye,w as xe,$ as $e,a0 as et,m as tt,g as ie,f as F,j as z,k as nt,n as S,p as Se,a1 as Le,a2 as rt,a3 as ot,a4 as de,C as it,a5 as st,a6 as at,L as lt,c as U,a as q,d as H,o as ut,M as ct,x as be,y as pe,A as ye,_ as ft,D as _t,H as gt,a7 as dt}from"./SidebarControls-f4d9255e.js";function bt(n,e,t,o,r){let i=!1;n.getSource(e)&&(i=!0,n.removeSource(e));const s=()=>{o(e)&&(n.addSource(e,t),r())};if(i){const l=()=>{e&&(n.getSource(e)?setTimeout(l,1):s())};l()}else s()}function wt(n,e,t){Ge().then(()=>{let o=Ke(n);if(!o)return;o.getSource(e)===t&&o.removeSource(e)})}function Me(n){let e=n[0],t,o,r=Ae(n);return{c(){r.c(),t=ge()},m(i,s){r.m(i,s),I(i,t,s),o=!0},p(i,s){s&1&&se(e,e=i[0])?(le(),T(r,1,1,oe),ue(),r=Ae(i),r.c(),M(r,1),r.m(t.parentNode,t)):r.p(i,s)},i(i){o||(M(r),o=!0)},o(i){T(r),o=!1},d(i){i&&O(t),r.d(i)}}}function Ae(n){let e;const t=n[15].default,o=Ee(t,n,n[14],null);return{c(){o&&o.c()},m(r,i){o&&o.m(r,i),e=!0},p(r,i){o&&o.p&&(!e||i&16384)&&Be(o,t,r,r[14],e?De(t,r[14],i,null):Re(r[14]),null)},i(r){e||(M(o,r),e=!0)},o(r){T(o,r),e=!1},d(r){o&&o.d(r)}}}function mt(n){let e,t,o=n[0]&&Me(n);return{c(){o&&o.c(),e=ge()},m(r,i){o&&o.m(r,i),I(r,e,i),t=!0},p(r,[i]){r[0]?o?(o.p(r,i),i&1&&M(o,1)):(o=Me(r),o.c(),M(o,1),o.m(e.parentNode,e)):o&&(le(),T(o,1,1,()=>{o=null}),ue())},i(r){t||(M(o),t=!0)},o(r){T(o),t=!1},d(r){r&&O(e),o&&o.d(r)}}}function pt(n,e,t){let o,r,i,{$$slots:s={},$$scope:l}=e,{id:a=Xe("geojson")}=e,{data:u}=e,{generateId:f=!1}=e,{promoteId:w=void 0}=e,{filter:b=void 0}=e,{lineMetrics:y=void 0}=e,{cluster:c=void 0}=e;const{map:g,cluster:k,self:A}=Ve();G(n,g,m=>t(13,r=m)),G(n,k,m=>t(16,i=m)),G(n,A,m=>t(0,o=m));let v,C=!0;return Qe(()=>{o&&v&&r&&(wt(g,o,v),ee(A,o=null,o),t(11,v=void 0))}),n.$$set=m=>{"id"in m&&t(4,a=m.id),"data"in m&&t(5,u=m.data),"generateId"in m&&t(6,f=m.generateId),"promoteId"in m&&t(7,w=m.promoteId),"filter"in m&&t(8,b=m.filter),"lineMetrics"in m&&t(9,y=m.lineMetrics),"cluster"in m&&t(10,c=m.cluster),"$$scope"in m&&t(14,l=m.$$scope)},n.$$.update=()=>{n.$$.dirty&1024&&ee(k,i=c,i),n.$$.dirty&12273&&r&&o!==a&&(ee(A,o=a,o),bt(r,o,ke({type:"geojson",data:u,filter:b,lineMetrics:y,generateId:f,promoteId:w,cluster:!!c,clusterMinPoints:c==null?void 0:c.minPoints,clusterMaxZoom:c==null?void 0:c.maxZoom,clusterRadius:c==null?void 0:c.radius,clusterProperties:c==null?void 0:c.properties}),m=>r&&m===o,()=>{o&&(t(11,v=r==null?void 0:r.getSource(o)),t(12,C=!0))})),n.$$.dirty&8208&&(r==null||r.on("style.load",()=>{t(11,v=r==null?void 0:r.getSource(a))})),n.$$.dirty&6176&&v&&(C?t(12,C=!1):v.setData(u)),n.$$.dirty&3072&&(v==null||v.setClusterOptions(ke({cluster:!!c,clusterMaxZoom:c==null?void 0:c.maxZoom,clusterRadius:c==null?void 0:c.radius})))},[o,g,k,A,a,u,f,w,b,y,c,v,C,r,l,s]}class yt extends fe{constructor(e){super(),_e(this,e,pt,mt,se,{id:4,data:5,generateId:6,promoteId:7,filter:8,lineMetrics:9,cluster:10})}}function ht(n){let e,t,o,r,i,s,l;const a=n[16].default,u=Ee(a,n,n[15],null);return{c(){e=L("div"),u&&u.c(),E(e,"tabindex",t=n[1]?0:void 0),E(e,"role",o=n[1]?"button":void 0),te(e,"z-index",n[2])},m(f,w){I(f,e,w),u&&u.m(e,null),i=!0,s||(l=[ve(n[6].call(null,e)),ve(r=kt.call(null,e,n[0])),R(e,"click",n[17]),R(e,"dblclick",n[18]),R(e,"contextmenu",n[19]),R(e,"mouseenter",n[20]),R(e,"mouseleave",n[21]),R(e,"mousemove",n[22]),R(e,"keydown",n[7])],s=!0)},p(f,[w]){u&&u.p&&(!i||w&32768)&&Be(u,a,f,f[15],i?De(a,f[15],w,null):Re(f[15]),null),(!i||w&2&&t!==(t=f[1]?0:void 0))&&E(e,"tabindex",t),(!i||w&2&&o!==(o=f[1]?"button":void 0))&&E(e,"role",o),r&&Ye(r.update)&&w&1&&r.update.call(null,f[0]),w&4&&te(e,"z-index",f[2])},i(f){i||(M(u,f),i=!0)},o(f){T(u,f),i=!1},d(f){f&&O(e),u&&u.d(f),s=!1,xe(l)}}}function kt(n,e){const t=n.className;function o(r){r?n.className=`${t} ${r}`:n.className=t}return o(e),{update:o}}function vt(n,e,t){let o,r,i,{$$slots:s={},$$scope:l}=e,{lngLat:a}=e,{class:u=void 0}=e,{interactive:f=!0}=e,{asButton:w=!1}=e,{draggable:b=!1}=e,{feature:y=null}=e,{offset:c=void 0}=e,{zIndex:g=void 0}=e;const k=$e(),{map:A,layerEvent:v,self:C}=et();G(n,A,d=>t(24,i=d)),G(n,v,d=>t(23,o=d)),G(n,C,d=>t(14,r=d));function m(d){ee(C,r=new tt.Marker({element:d,draggable:b,offset:c}).setLngLat(a).addTo(i),r);const P=()=>B("dragstart"),K=()=>{he(),B("drag")},V=()=>{he(),B("dragend")};return b&&(r.on("dragstart",P),r.on("drag",K),r.on("dragend",V)),{destroy(){b&&(r==null||r.off("dragstart",P),r==null||r.off("drag",K),r==null||r.off("dragend",V)),r==null||r.remove()}}}function he(){let d=r==null?void 0:r.getLngLat();d&&(Array.isArray(a)?t(9,a=[d.lng,d.lat]):a&&"lon"in a?t(9,a={lon:d.lng,lat:d.lat}):t(9,a=d))}function Ne(d){d.key===" "&&(d.preventDefault(),d.stopPropagation(),B("click"))}function B(d){if(!f)return;let P=r==null?void 0:r.getLngLat();if(!P)return;const K=[P.lng,P.lat];let V={map:i,marker:r,lngLat:K,features:[{type:"Feature",properties:(y==null?void 0:y.properties)??{},geometry:{type:"Point",coordinates:K}}]};ee(v,o={...V,layerType:"marker",type:d},o),k(d,V)}const Ue=()=>B("click"),qe=()=>B("dblclick"),He=()=>B("contextmenu"),Pe=d=>{B("mouseenter")},Ze=()=>{B("mouseleave")},Je=()=>B("mousemove");return n.$$set=d=>{"lngLat"in d&&t(9,a=d.lngLat),"class"in d&&t(0,u=d.class),"interactive"in d&&t(10,f=d.interactive),"asButton"in d&&t(1,w=d.asButton),"draggable"in d&&t(11,b=d.draggable),"feature"in d&&t(12,y=d.feature),"offset"in d&&t(13,c=d.offset),"zIndex"in d&&t(2,g=d.zIndex),"$$scope"in d&&t(15,l=d.$$scope)},n.$$.update=()=>{n.$$.dirty&16896&&(r==null||r.setLngLat(a)),n.$$.dirty&24576&&(r==null||r.setOffset(c??[0,0]))},[u,w,g,A,v,C,m,Ne,B,a,f,b,y,c,r,l,s,Ue,qe,He,Pe,Ze,Je]}class St extends fe{constructor(e){super(),_e(this,e,vt,ht,se,{lngLat:9,class:0,interactive:10,asButton:1,draggable:11,feature:12,offset:13,zIndex:2})}}let p;const Fe=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&Fe.decode();let X=null;function ne(){return(X===null||X.byteLength===0)&&(X=new Uint8Array(p.memory.buffer)),X}function Z(n,e){return n=n>>>0,Fe.decode(ne().subarray(n,n+e))}const D=new Array(128).fill(void 0);D.push(void 0,null,!0,!1);let re=D.length;function h(n){re===D.length&&D.push(D.length+1);const e=re;return re=D[e],D[e]=n,e}function _(n){return D[n]}let N=0;const ae=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Lt=typeof ae.encodeInto=="function"?function(n,e){return ae.encodeInto(n,e)}:function(n,e){const t=ae.encode(n);return e.set(t),{read:n.length,written:t.length}};function we(n,e,t){if(t===void 0){const l=ae.encode(n),a=e(l.length,1)>>>0;return ne().subarray(a,a+l.length).set(l),N=l.length,a}let o=n.length,r=e(o,1)>>>0;const i=ne();let s=0;for(;s<o;s++){const l=n.charCodeAt(s);if(l>127)break;i[r+s]=l}if(s!==o){s!==0&&(n=n.slice(s)),r=t(r,o,o=s+n.length*3,1)>>>0;const l=ne().subarray(r+s,r+o),a=Lt(n,l);s+=a.written}return N=s,r}function Q(n){return n==null}let Y=null;function j(){return(Y===null||Y.byteLength===0)&&(Y=new Int32Array(p.memory.buffer)),Y}function Mt(n){n<132||(D[n]=re,re=n)}function J(n){const e=_(n);return Mt(n),e}let x=null;function We(){return(x===null||x.byteLength===0)&&(x=new Float64Array(p.memory.buffer)),x}let $=null;function At(){return($===null||$.byteLength===0)&&($=new BigInt64Array(p.memory.buffer)),$}function me(n){const e=typeof n;if(e=="number"||e=="boolean"||n==null)return`${n}`;if(e=="string")return`"${n}"`;if(e=="symbol"){const r=n.description;return r==null?"Symbol":`Symbol(${r})`}if(e=="function"){const r=n.name;return typeof r=="string"&&r.length>0?`Function(${r})`:"Function"}if(Array.isArray(n)){const r=n.length;let i="[";r>0&&(i+=me(n[0]));for(let s=1;s<r;s++)i+=", "+me(n[s]);return i+="]",i}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let o;if(t.length>1)o=t[1];else return toString.call(n);if(o=="Object")try{return"Object("+JSON.stringify(n)+")"}catch{return"Object"}return n instanceof Error?`${n.name}: ${n.message}
${n.stack}`:o}function jt(n,e){const t=e(n.length*1,1)>>>0;return ne().set(n,t/1),N=n.length,t}function Tt(n,e){return n=n>>>0,We().subarray(n/8,n/8+e)}function W(n,e){try{return n.apply(this,e)}catch(t){p.__wbindgen_exn_store(h(t))}}class ce{static __wrap(e){e=e>>>0;const t=Object.create(ce.prototype);return t.__wbg_ptr=e,t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();p.__wbg_jsnetwork_free(e)}constructor(e){try{const i=p.__wbindgen_add_to_stack_pointer(-16),s=jt(e,p.__wbindgen_malloc),l=N;p.jsnetwork_new(i,s,l);var t=j()[i/4+0],o=j()[i/4+1],r=j()[i/4+2];if(r)throw J(o);return ce.__wrap(t)}finally{p.__wbindgen_add_to_stack_pointer(16)}}recalculate(e){let t,o;try{const f=p.__wbindgen_add_to_stack_pointer(-16);p.jsnetwork_recalculate(f,this.__wbg_ptr,h(e));var r=j()[f/4+0],i=j()[f/4+1],s=j()[f/4+2],l=j()[f/4+3],a=r,u=i;if(l)throw a=0,u=0,J(s);return t=a,o=u,Z(a,u)}finally{p.__wbindgen_add_to_stack_pointer(16),p.__wbindgen_free(t,o,1)}}getBounds(){try{const r=p.__wbindgen_add_to_stack_pointer(-16);p.jsnetwork_getBounds(r,this.__wbg_ptr);var e=j()[r/4+0],t=j()[r/4+1],o=Tt(e,t).slice();return p.__wbindgen_free(e,t*8),o}finally{p.__wbindgen_add_to_stack_pointer(16)}}}async function It(n,e){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,e)}catch(o){if(n.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}function Ot(){const n={};return n.wbg={},n.wbg.__wbindgen_string_new=function(e,t){const o=Z(e,t);return h(o)},n.wbg.__wbindgen_string_get=function(e,t){const o=_(t),r=typeof o=="string"?o:void 0;var i=Q(r)?0:we(r,p.__wbindgen_malloc,p.__wbindgen_realloc),s=N;j()[e/4+1]=s,j()[e/4+0]=i},n.wbg.__wbindgen_object_drop_ref=function(e){J(e)},n.wbg.__wbindgen_number_get=function(e,t){const o=_(t),r=typeof o=="number"?o:void 0;We()[e/8+1]=Q(r)?0:r,j()[e/4+0]=!Q(r)},n.wbg.__wbindgen_is_string=function(e){return typeof _(e)=="string"},n.wbg.__wbindgen_is_object=function(e){const t=_(e);return typeof t=="object"&&t!==null},n.wbg.__wbindgen_is_undefined=function(e){return _(e)===void 0},n.wbg.__wbindgen_in=function(e,t){return _(e)in _(t)},n.wbg.__wbindgen_is_bigint=function(e){return typeof _(e)=="bigint"},n.wbg.__wbindgen_bigint_from_u64=function(e){const t=BigInt.asUintN(64,e);return h(t)},n.wbg.__wbindgen_jsval_eq=function(e,t){return _(e)===_(t)},n.wbg.__wbindgen_error_new=function(e,t){const o=new Error(Z(e,t));return h(o)},n.wbg.__wbindgen_object_clone_ref=function(e){const t=_(e);return h(t)},n.wbg.__wbindgen_jsval_loose_eq=function(e,t){return _(e)==_(t)},n.wbg.__wbindgen_boolean_get=function(e){const t=_(e);return typeof t=="boolean"?t?1:0:2},n.wbg.__wbindgen_number_new=function(e){return h(e)},n.wbg.__wbg_getwithrefkey_3b3c46ba20582127=function(e,t){const o=_(e)[_(t)];return h(o)},n.wbg.__wbg_new_abda76e883ba8a5f=function(){const e=new Error;return h(e)},n.wbg.__wbg_stack_658279fe44541cf6=function(e,t){const o=_(t).stack,r=we(o,p.__wbindgen_malloc,p.__wbindgen_realloc),i=N;j()[e/4+1]=i,j()[e/4+0]=r},n.wbg.__wbg_error_f851667af71bcfc6=function(e,t){let o,r;try{o=e,r=t,console.error(Z(e,t))}finally{p.__wbindgen_free(o,r,1)}},n.wbg.__wbg_getwithrefkey_5e6d9547403deab8=function(e,t){const o=_(e)[_(t)];return h(o)},n.wbg.__wbg_set_841ac57cff3d672b=function(e,t,o){_(e)[J(t)]=J(o)},n.wbg.__wbg_now_0cfdc90c97d0c24b=function(e){return _(e).now()},n.wbg.__wbg_debug_9a6b3243fbbebb61=function(e){console.debug(_(e))},n.wbg.__wbg_error_788ae33f81d3b84b=function(e){console.error(_(e))},n.wbg.__wbg_info_2e30e8204b29d91d=function(e){console.info(_(e))},n.wbg.__wbg_log_1d3ae0273d8f4f8a=function(e){console.log(_(e))},n.wbg.__wbg_warn_d60e832f9882c1b2=function(e){console.warn(_(e))},n.wbg.__wbg_get_44be0491f933a435=function(e,t){const o=_(e)[t>>>0];return h(o)},n.wbg.__wbg_length_fff51ee6522a1a18=function(e){return _(e).length},n.wbg.__wbg_new_898a68150f225f2e=function(){const e=new Array;return h(e)},n.wbg.__wbindgen_is_function=function(e){return typeof _(e)=="function"},n.wbg.__wbg_newnoargs_581967eacc0e2604=function(e,t){const o=new Function(Z(e,t));return h(o)},n.wbg.__wbg_next_526fc47e980da008=function(e){const t=_(e).next;return h(t)},n.wbg.__wbg_next_ddb3312ca1c4e32a=function(){return W(function(e){const t=_(e).next();return h(t)},arguments)},n.wbg.__wbg_done_5c1f01fb660d73b5=function(e){return _(e).done},n.wbg.__wbg_value_1695675138684bd5=function(e){const t=_(e).value;return h(t)},n.wbg.__wbg_iterator_97f0c81209c6c35a=function(){return h(Symbol.iterator)},n.wbg.__wbg_get_97b561fb56f034b5=function(){return W(function(e,t){const o=Reflect.get(_(e),_(t));return h(o)},arguments)},n.wbg.__wbg_call_cb65541d95d71282=function(){return W(function(e,t){const o=_(e).call(_(t));return h(o)},arguments)},n.wbg.__wbg_new_b51585de1b234aff=function(){const e=new Object;return h(e)},n.wbg.__wbg_self_1ff1d729e9aae938=function(){return W(function(){const e=self.self;return h(e)},arguments)},n.wbg.__wbg_window_5f4faef6c12b79ec=function(){return W(function(){const e=window.window;return h(e)},arguments)},n.wbg.__wbg_globalThis_1d39714405582d3c=function(){return W(function(){const e=globalThis.globalThis;return h(e)},arguments)},n.wbg.__wbg_global_651f05c6a0944d1c=function(){return W(function(){const e=global.global;return h(e)},arguments)},n.wbg.__wbg_set_502d29070ea18557=function(e,t,o){_(e)[t>>>0]=J(o)},n.wbg.__wbg_instanceof_ArrayBuffer_39ac22089b74fddb=function(e){let t;try{t=_(e)instanceof ArrayBuffer}catch{t=!1}return t},n.wbg.__wbg_isSafeInteger_bb8e18dd21c97288=function(e){return Number.isSafeInteger(_(e))},n.wbg.__wbg_entries_e51f29c7bba0c054=function(e){const t=Object.entries(_(e));return h(t)},n.wbg.__wbg_buffer_085ec1f694018c4f=function(e){const t=_(e).buffer;return h(t)},n.wbg.__wbg_new_8125e318e6245eed=function(e){const t=new Uint8Array(_(e));return h(t)},n.wbg.__wbg_set_5cf90238115182c3=function(e,t,o){_(e).set(_(t),o>>>0)},n.wbg.__wbg_length_72e2208bbc0efc61=function(e){return _(e).length},n.wbg.__wbg_instanceof_Uint8Array_d8d9cb2b8e8ac1d4=function(e){let t;try{t=_(e)instanceof Uint8Array}catch{t=!1}return t},n.wbg.__wbindgen_bigint_get_as_i64=function(e,t){const o=_(t),r=typeof o=="bigint"?o:void 0;At()[e/8+1]=Q(r)?BigInt(0):r,j()[e/4+0]=!Q(r)},n.wbg.__wbindgen_debug_string=function(e,t){const o=me(_(t)),r=we(o,p.__wbindgen_malloc,p.__wbindgen_realloc),i=N;j()[e/4+1]=i,j()[e/4+0]=r},n.wbg.__wbindgen_throw=function(e,t){throw new Error(Z(e,t))},n.wbg.__wbindgen_memory=function(){const e=p.memory;return h(e)},n}function Ct(n,e){return p=n.exports,ze.__wbindgen_wasm_module=e,$=null,x=null,Y=null,X=null,p}async function ze(n){if(p!==void 0)return p;typeof n>"u"&&(n="/od2net/assets/wasm_od2net_bg.wasm");const e=Ot();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:t,module:o}=await It(await n,e);return Ct(t,o)}const Et='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>',{Map:Bt}=st;function je(n,e,t){const o=n.slice();return o[6]=e[t][0],o[7]=e[t][1],o[8]=e,o[9]=t,o}function Te(n){let e,t=[],o=new Bt,r=Le(n[1].entries());const i=s=>s[6];for(let s=0;s<r.length;s+=1){let l=je(n,r,s),a=i(l);o.set(a,t[s]=Ie(a,l))}return{c(){e=L("ul");for(let s=0;s<t.length;s+=1)t[s].c()},m(s,l){I(s,e,l);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(s,l){l&2&&(r=Le(s[1].entries()),t=rt(t,l,i,1,s,r,o,e,at,Ie,null,je))},d(s){s&&O(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function Ie(n,e){let t,o,r=e[6]+"",i,s,l,a,u;function f(){e[4].call(s,e[8],e[9])}return{key:n,first:null,c(){t=L("li"),o=L("label"),i=ie(r),s=L("input"),l=F(),E(s,"type","number"),E(s,"min","1.0"),E(s,"step","0.1"),this.first=t},m(w,b){I(w,t,b),S(t,o),S(o,i),S(o,s),z(s,e[7]),S(t,l),a||(u=R(s,"input",f),a=!0)},p(w,b){e=w,b&2&&r!==(r=e[6]+"")&&ot(i,r),b&2&&de(s.value)!==e[7]&&z(s,e[7])},d(w){w&&O(t),a=!1,u()}}}function Rt(n){let e,t,o,r,i,s,l,a,u,f,w,b=n[0]=="OsmHighwayType"&&Te(n);return{c(){e=L("div"),t=L("label"),o=ie(`Cost function:
    `),r=L("select"),i=L("option"),i.textContent="Distance",s=L("option"),s.textContent="Avoid main roads",l=L("option"),l.textContent="Set a weight per OSM highway type",a=F(),b&&b.c(),u=ge(),i.__value="Distance",z(i,i.__value),s.__value="AvoidMainRoads",z(s,s.__value),l.__value="OsmHighwayType",z(l,l.__value),n[0]===void 0&&nt(()=>n[3].call(r))},m(y,c){I(y,e,c),S(e,t),S(t,o),S(t,r),S(r,i),S(r,s),S(r,l),Se(r,n[0],!0),I(y,a,c),b&&b.m(y,c),I(y,u,c),f||(w=R(r,"change",n[3]),f=!0)},p(y,[c]){c&1&&Se(r,y[0]),y[0]=="OsmHighwayType"?b?b.p(y,c):(b=Te(y),b.c(),b.m(u.parentNode,u)):b&&(b.d(1),b=null)},i:oe,o:oe,d(y){y&&(O(e),O(a),O(u)),b&&b.d(y),f=!1,w()}}}function Dt(n,e,t){let{cost:o}=e,r="Distance",i=new Map(["cycleway","footway","living_street","motorway","motorway_link","path","pedestrian","primary","primary_link","residential","secondary","secondary_link","service","steps","tertiary","tertiary_link","track","trunk","trunk_link","unclassified"].map(u=>[u,1]));function s(u){u=="OsmHighwayType"?t(2,o={OsmHighwayType:i}):t(2,o=u)}function l(){r=it(this),t(0,r)}function a(u,f){u[f][1]=de(this.value),t(1,i)}return n.$$set=u=>{"cost"in u&&t(2,o=u.cost)},n.$$.update=()=>{n.$$.dirty&1&&s(r)},[r,i,o,l,a]}class Ft extends fe{constructor(e){super(),_e(this,e,Dt,Rt,se,{cost:2})}}function Oe(n){let e,t,o,r,i,s,l,a,u,f,w,b;function y(g){n[14](g)}let c={};return n[1]!==void 0&&(c.cost=n[1]),a=new Ft({props:c}),be.push(()=>pe(a,"cost",y)),{c(){e=L("div"),t=L("label"),o=ie("Max requests (limit for faster updates):"),r=L("br"),i=F(),s=L("input"),l=F(),U(a.$$.fragment),E(s,"type","number"),E(s,"min",1)},m(g,k){I(g,e,k),S(e,t),S(t,o),S(t,r),S(t,i),S(t,s),z(s,n[0]),I(g,l,k),q(a,g,k),f=!0,w||(b=R(s,"input",n[13]),w=!0)},p(g,k){k&1&&de(s.value)!==g[0]&&z(s,g[0]);const A={};!u&&k&2&&(u=!0,A.cost=g[1],ye(()=>u=!1)),a.$set(A)},i(g){f||(M(a.$$.fragment,g),f=!0)},o(g){T(a.$$.fragment,g),f=!1},d(g){g&&(O(e),O(l)),H(a,g),w=!1,b()}}}function Ce(n){let e,t,o,r;return o=new _t({props:{outputMetadata:n[5].metadata,map:n[2],controls:n[7]}}),{c(){e=L("hr"),t=F(),U(o.$$.fragment)},m(i,s){I(i,e,s),I(i,t,s),q(o,i,s),r=!0},p(i,s){const l={};s&32&&(l.outputMetadata=i[5].metadata),s&4&&(l.map=i[2]),o.$set(l)},i(i){r||(M(o.$$.fragment,i),r=!0)},o(i){T(o.$$.fragment,i),r=!1},d(i){i&&(O(e),O(t)),H(o,i)}}}function Wt(n){let e,t,o,r,i,s,l,a,u,f,w,b,y,c=n[3]&&Oe(n),g=n[5].metadata&&Ce(n);return{c(){e=L("div"),t=L("h1"),t.textContent="od2net interactive mode",o=F(),r=L("label"),i=ie("Open a "),s=L("i"),s.textContent=".bin",l=ie(` network file
      `),a=L("input"),u=F(),c&&c.c(),f=F(),g&&g.c(),E(a,"type","file"),E(e,"slot","left")},m(k,A){I(k,e,A),S(e,t),S(e,o),S(e,r),S(r,i),S(r,s),S(r,l),S(r,a),n[12](a),S(e,u),c&&c.m(e,null),S(e,f),g&&g.m(e,null),w=!0,b||(y=R(a,"change",n[8]),b=!0)},p(k,A){k[3]?c?(c.p(k,A),A&8&&M(c,1)):(c=Oe(k),c.c(),M(c,1),c.m(e,f)):c&&(le(),T(c,1,1,()=>{c=null}),ue()),k[5].metadata?g?(g.p(k,A),A&32&&M(g,1)):(g=Ce(k),g.c(),M(g,1),g.m(e,null)):g&&(le(),T(g,1,1,()=>{g=null}),ue())},i(k){w||(M(c),M(g),w=!0)},o(k){T(c),T(g),w=!1},d(k){k&&O(e),n[12](null),c&&c.d(),g&&g.d(),b=!1,y()}}}function zt(n){let e,t;return{c(){e=new dt(!1),t=ge(),e.a=t},m(o,r){e.m(Et,o,r),I(o,t,r)},p:oe,d(o){o&&(O(t),e.d())}}}function Nt(n){let e,t;return e=new gt({props:{controls:n[7]}}),{c(){U(e.$$.fragment)},m(o,r){q(e,o,r),t=!0},p:oe,i(o){t||(M(e.$$.fragment,o),t=!0)},o(o){T(e.$$.fragment,o),t=!1},d(o){H(e,o)}}}function Ut(n){let e,t,o,r,i;function s(a){n[10](a)}let l={draggable:!0,$$slots:{default:[zt]},$$scope:{ctx:n}};return n[4]!==void 0&&(l.lngLat=n[4]),e=new St({props:l}),be.push(()=>pe(e,"lngLat",s)),e.$on("dragend",n[9]),r=new yt({props:{data:n[5],$$slots:{default:[Nt]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),o=F(),U(r.$$.fragment)},m(a,u){q(e,a,u),I(a,o,u),q(r,a,u),i=!0},p(a,u){const f={};u&32768&&(f.$$scope={dirty:u,ctx:a}),!t&&u&16&&(t=!0,f.lngLat=a[4],ye(()=>t=!1)),e.$set(f);const w={};u&32&&(w.data=a[5]),u&32768&&(w.$$scope={dirty:u,ctx:a}),r.$set(w)},i(a){i||(M(e.$$.fragment,a),M(r.$$.fragment,a),i=!0)},o(a){T(e.$$.fragment,a),T(r.$$.fragment,a),i=!1},d(a){a&&O(o),H(e,a),H(r,a)}}}function qt(n){let e,t,o,r;function i(l){n[11](l)}let s={style:"https://api.maptiler.com/maps/dataviz/style.json?key=MZEJTanw3WpxRvt7qDfo",standardControls:!0,hash:!0,$$slots:{default:[Ut]},$$scope:{ctx:n}};return n[2]!==void 0&&(s.map=n[2]),t=new ct({props:s}),be.push(()=>pe(t,"map",i)),{c(){e=L("div"),U(t.$$.fragment),E(e,"slot","main"),te(e,"position","relative"),te(e,"width","100%"),te(e,"height","100vh")},m(l,a){I(l,e,a),q(t,e,null),r=!0},p(l,a){const u={};a&32816&&(u.$$scope={dirty:a,ctx:l}),!o&&a&4&&(o=!0,u.map=l[2],ye(()=>o=!1)),t.$set(u)},i(l){r||(M(t.$$.fragment,l),r=!0)},o(l){T(t.$$.fragment,l),r=!1},d(l){l&&O(e),H(t)}}}function Ht(n){let e,t;return e=new lt({props:{$$slots:{main:[qt],left:[Wt]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(o,r){q(e,o,r),t=!0},p(o,[r]){const i={};r&32895&&(i.$$scope={dirty:r,ctx:o}),e.$set(i)},i(o){t||(M(e.$$.fragment,o),t=!0)},o(o){T(e.$$.fragment,o),t=!1},d(o){H(e,o)}}}function Pt(n,e,t){ut(async()=>{await ze(),await ft()});let o,r,i={lng:0,lat:0},s={type:"FeatureCollection",features:[]},l=1e3,a="Distance",u={maxCount:1e3,originRadius:3,destinationRadius:3,streetviewOn:!1},f;async function w(v){try{let C=await f.files[0].arrayBuffer();t(3,r=new ce(new Uint8Array(C)));let m=r.getBounds();o.fitBounds([[m[0],m[1]],[m[2],m[3]]],{padding:20,animate:!1}),t(4,i.lng=(m[0]+m[2])/2,i),t(4,i.lat=(m[1]+m[3])/2,i),b()}catch(C){window.alert(`Problem loading network file: ${C}`)}}function b(){r&&t(5,s=JSON.parse(r.recalculate({lng:i.lng,lat:i.lat,max_requests:l,cost:a})))}function y(v){i=v,t(4,i)}function c(v){o=v,t(2,o)}function g(v){be[v?"unshift":"push"](()=>{f=v,t(6,f)})}function k(){l=de(this.value),t(0,l)}function A(v){a=v,t(1,a)}return n.$$.update=()=>{n.$$.dirty&3&&b()},[l,a,o,r,i,s,f,u,w,b,y,c,g,k,A]}class Zt extends fe{constructor(e){super(),_e(this,e,Pt,Ht,se,{})}}new Zt({target:document.getElementById("app")});
