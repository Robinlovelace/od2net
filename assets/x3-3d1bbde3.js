import{S as M,i as O,s as j,L as B,c as $,a as m,t as d,b as _,d as g,o as E,e as c,f as N,g as C,h as v,l as S,n as u,q,E as A,v as L,M as I,x as J,y as P,z as k,A as z,_ as F,a5 as G,a2 as b,a3 as R,a6 as T,a7 as D}from"./Layout-09a07ccd.js";import{_ as H,J as U,G as W}from"./@vite-plugin-wasm-pack@wasm-od2net-379c176f.js";function Z(r){let t,n,e,a,s,i,o,l,f,w;return{c(){t=c("div"),n=c("h1"),n.textContent="od2net edge cost explorer",e=N(),a=c("label"),s=C("Open a "),i=c("i"),i.textContent=".bin",o=C(` network file
      `),l=c("input"),v(l,"type","file"),v(t,"slot","left")},m(p,h){S(p,t,h),u(t,n),u(t,e),u(t,a),u(a,s),u(a,i),u(a,o),u(a,l),r[6](l),f||(w=q(l,"change",r[3]),f=!0)},p:A,d(p){p&&L(t),r[6](null),f=!1,w()}}}function K(r){let t,n;return t=new D({props:{properties:r[8][0].properties}}),{c(){$(t.$$.fragment)},m(e,a){m(t,e,a),n=!0},p(e,a){const s={};a&256&&(s.properties=e[8][0].properties),t.$set(s)},i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function Q(r){let t,n;return t=new T({props:{openOn:"hover",$$slots:{default:[K,({features:e})=>({8:e}),({features:e})=>e?256:0]},$$scope:{ctx:r}}}),{c(){$(t.$$.fragment)},m(e,a){m(t,e,a),n=!0},p(e,a){const s={};a&768&&(s.$$scope={dirty:a,ctx:e}),t.$set(s)},i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function V(r){let t,n;return t=new G({props:{manageHoverState:!0,hoverCursor:"pointer",paint:{"line-width":3,"line-color":["match",["get","lts"],1,b.lts1,2,b.lts2,3,b.lts3,4,b.lts4,b.lts_unknown],"line-opacity":R(1,.5)},beforeId:"Road labels",$$slots:{default:[Q]},$$scope:{ctx:r}}}),t.$on("click",r[4]),{c(){$(t.$$.fragment)},m(e,a){m(t,e,a),n=!0},p(e,a){const s={};a&512&&(s.$$scope={dirty:a,ctx:e}),t.$set(s)},i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function X(r){let t,n;return t=new W({props:{data:r[1],$$slots:{default:[V]},$$scope:{ctx:r}}}),{c(){$(t.$$.fragment)},m(e,a){m(t,e,a),n=!0},p(e,a){const s={};a&2&&(s.data=e[1]),a&512&&(s.$$scope={dirty:a,ctx:e}),t.$set(s)},i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function Y(r){let t,n,e,a;function s(o){r[5](o)}let i={style:"https://api.maptiler.com/maps/dataviz/style.json?key=MZEJTanw3WpxRvt7qDfo",standardControls:!0,hash:!0,$$slots:{default:[X]},$$scope:{ctx:r}};return r[0]!==void 0&&(i.map=r[0]),n=new I({props:i}),J.push(()=>P(n,"map",s)),{c(){t=c("div"),$(n.$$.fragment),v(t,"slot","main"),k(t,"position","relative"),k(t,"width","100%"),k(t,"height","100vh")},m(o,l){S(o,t,l),m(n,t,null),a=!0},p(o,l){const f={};l&514&&(f.$$scope={dirty:l,ctx:o}),!e&&l&1&&(e=!0,f.map=o[0],z(()=>e=!1)),n.$set(f)},i(o){a||(d(n.$$.fragment,o),a=!0)},o(o){_(n.$$.fragment,o),a=!1},d(o){o&&L(t),g(n)}}}function x(r){let t,n;return t=new B({props:{$$slots:{main:[Y],left:[Z]},$$scope:{ctx:r}}}),{c(){$(t.$$.fragment)},m(e,a){m(t,e,a),n=!0},p(e,[a]){const s={};a&519&&(s.$$scope={dirty:a,ctx:e}),t.$set(s)},i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function ee(r){let t=r.properties.way;window.open(`http://openstreetmap.org/way/${t}`,"_blank")}function te(r,t,n){E(async()=>{await H(),await F()});let e,a,s={type:"FeatureCollection",features:[]},i;async function o(p){try{let h=await i.files[0].arrayBuffer();a=new U(new Uint8Array(h));let y=a.getBounds();e.fitBounds([[y[0],y[1]],[y[2],y[3]]],{padding:20,animate:!1}),n(1,s=JSON.parse(a.debugNetwork()))}catch(h){window.alert(`Problem loading network file: ${h}`)}}const l=p=>ee(p.detail.features[0]);function f(p){e=p,n(0,e)}function w(p){J[p?"unshift":"push"](()=>{i=p,n(2,i)})}return[e,s,i,o,l,f,w]}class ne extends M{constructor(t){super(),O(this,t,te,x,j,{})}}new ne({target:document.getElementById("app")});
