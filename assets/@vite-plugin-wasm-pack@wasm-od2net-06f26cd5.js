import{ac as ne,ad as re,S as oe,i as _e,s as K,D as V,l as Q,t as j,r as X,b as F,u as Y,v as $,ae as ie,T as C,aa as ce,U as q,af as P,E as se,G as fe,J as ue,K as ae,N as be,a1 as ge}from"./Layout-e9bd37ce.js";function le(t,e,n,r,o){let _=!1;t.getSource(e)&&(_=!0,t.removeSource(e));const c=()=>{r(e)&&(t.addSource(e,n),o())};if(_){const a=()=>{e&&(t.getSource(e)?setTimeout(a,1):c())};a()}else c()}function we(t,e,n){ne().then(()=>{let r=re(t);if(!r)return;r.getSource(e)===n&&r.removeSource(e)})}function z(t){let e=t[0],n,r,o=H(t);return{c(){o.c(),n=V()},m(_,c){o.m(_,c),Q(_,n,c),r=!0},p(_,c){c&1&&K(e,e=_[0])?(X(),F(o,1,1,se),Y(),o=H(_),o.c(),j(o,1),o.m(n.parentNode,n)):o.p(_,c)},i(_){r||(j(o),r=!0)},o(_){F(o),r=!1},d(_){_&&$(n),o.d(_)}}}function H(t){let e;const n=t[15].default,r=fe(n,t,t[14],null);return{c(){r&&r.c()},m(o,_){r&&r.m(o,_),e=!0},p(o,_){r&&r.p&&(!e||_&16384)&&ue(r,n,o,o[14],e?be(n,o[14],_,null):ae(o[14]),null)},i(o){e||(j(r,o),e=!0)},o(o){F(r,o),e=!1},d(o){r&&r.d(o)}}}function de(t){let e,n,r=t[0]&&z(t);return{c(){r&&r.c(),e=V()},m(o,_){r&&r.m(o,_),Q(o,e,_),n=!0},p(o,[_]){o[0]?r?(r.p(o,_),_&1&&j(r,1)):(r=z(o),r.c(),j(r,1),r.m(e.parentNode,e)):r&&(X(),F(r,1,1,()=>{r=null}),Y())},i(o){n||(j(r),n=!0)},o(o){F(r),n=!1},d(o){o&&$(e),r&&r.d(o)}}}function ye(t,e,n){let r,o,_,{$$slots:c={},$$scope:a}=e,{id:l=ge("geojson")}=e,{data:w}=e,{generateId:y=!1}=e,{promoteId:N=void 0}=e,{filter:R=void 0}=e,{lineMetrics:U=void 0}=e,{cluster:b=void 0}=e;const{map:D,cluster:L,self:W}=ie();C(t,D,u=>n(13,o=u)),C(t,L,u=>n(16,_=u)),C(t,W,u=>n(0,r=u));let d,x=!0;return ce(()=>{r&&d&&o&&(we(D,r,d),q(W,r=null,r),n(11,d=void 0))}),t.$$set=u=>{"id"in u&&n(4,l=u.id),"data"in u&&n(5,w=u.data),"generateId"in u&&n(6,y=u.generateId),"promoteId"in u&&n(7,N=u.promoteId),"filter"in u&&n(8,R=u.filter),"lineMetrics"in u&&n(9,U=u.lineMetrics),"cluster"in u&&n(10,b=u.cluster),"$$scope"in u&&n(14,a=u.$$scope)},t.$$.update=()=>{t.$$.dirty&1024&&q(L,_=b,_),t.$$.dirty&12273&&o&&r!==l&&(q(W,r=l,r),le(o,r,P({type:"geojson",data:w,filter:R,lineMetrics:U,generateId:y,promoteId:N,cluster:!!b,clusterMinPoints:b==null?void 0:b.minPoints,clusterMaxZoom:b==null?void 0:b.maxZoom,clusterRadius:b==null?void 0:b.radius,clusterProperties:b==null?void 0:b.properties}),u=>o&&u===r,()=>{r&&(n(11,d=o==null?void 0:o.getSource(r)),n(12,x=!0))})),t.$$.dirty&8208&&(o==null||o.on("style.load",()=>{n(11,d=o==null?void 0:o.getSource(l))})),t.$$.dirty&6176&&d&&(x?n(12,x=!1):d.setData(w)),t.$$.dirty&3072&&(d==null||d.setClusterOptions(P({cluster:!!b,clusterMaxZoom:b==null?void 0:b.maxZoom,clusterRadius:b==null?void 0:b.radius})))},[r,D,L,W,l,w,y,N,R,U,b,d,x,o,a,c]}class ve extends oe{constructor(e){super(),_e(this,e,ye,de,K,{id:4,data:5,generateId:6,promoteId:7,filter:8,lineMetrics:9,cluster:10})}}let s;const ee=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&ee.decode();let M=null;function E(){return(M===null||M.byteLength===0)&&(M=new Uint8Array(s.memory.buffer)),M}function p(t,e){return t=t>>>0,ee.decode(E().subarray(t,t+e))}const m=new Array(128).fill(void 0);m.push(void 0,null,!0,!1);let O=m.length;function f(t){O===m.length&&m.push(m.length+1);const e=O;return O=m[e],m[e]=t,e}function i(t){return m[t]}let S=0;const B=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},me=typeof B.encodeInto=="function"?function(t,e){return B.encodeInto(t,e)}:function(t,e){const n=B.encode(t);return e.set(n),{read:t.length,written:n.length}};function Z(t,e,n){if(n===void 0){const a=B.encode(t),l=e(a.length,1)>>>0;return E().subarray(l,l+a.length).set(a),S=a.length,l}let r=t.length,o=e(r,1)>>>0;const _=E();let c=0;for(;c<r;c++){const a=t.charCodeAt(c);if(a>127)break;_[o+c]=a}if(c!==r){c!==0&&(t=t.slice(c)),o=n(o,r,r=c+t.length*3,1)>>>0;const a=E().subarray(o+c,o+r),l=me(t,a);c+=l.written}return S=c,o}function A(t){return t==null}let I=null;function g(){return(I===null||I.byteLength===0)&&(I=new Int32Array(s.memory.buffer)),I}function he(t){t<132||(m[t]=O,O=t)}function k(t){const e=i(t);return he(t),e}let T=null;function te(){return(T===null||T.byteLength===0)&&(T=new Float64Array(s.memory.buffer)),T}let v=null;function pe(){return(v===null||v.byteLength===0)&&(v=new BigInt64Array(s.memory.buffer)),v}function G(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const o=t.description;return o==null?"Symbol":`Symbol(${o})`}if(e=="function"){const o=t.name;return typeof o=="string"&&o.length>0?`Function(${o})`:"Function"}if(Array.isArray(t)){const o=t.length;let _="[";o>0&&(_+=G(t[0]));for(let c=1;c<o;c++)_+=", "+G(t[c]);return _+="]",_}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let r;if(n.length>1)r=n[1];else return toString.call(t);if(r=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:r}function ke(t,e){const n=e(t.length*1,1)>>>0;return E().set(t,n/1),S=t.length,n}function Se(t,e){return t=t>>>0,te().subarray(t/8,t/8+e)}function h(t,e){try{return t.apply(this,e)}catch(n){s.__wbindgen_exn_store(f(n))}}class J{static __wrap(e){e=e>>>0;const n=Object.create(J.prototype);return n.__wbg_ptr=e,n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();s.__wbg_jsnetwork_free(e)}constructor(e){try{const _=s.__wbindgen_add_to_stack_pointer(-16),c=ke(e,s.__wbindgen_malloc),a=S;s.jsnetwork_new(_,c,a);var n=g()[_/4+0],r=g()[_/4+1],o=g()[_/4+2];if(o)throw k(r);return J.__wrap(n)}finally{s.__wbindgen_add_to_stack_pointer(16)}}recalculate(e){let n,r;try{const y=s.__wbindgen_add_to_stack_pointer(-16);s.jsnetwork_recalculate(y,this.__wbg_ptr,f(e));var o=g()[y/4+0],_=g()[y/4+1],c=g()[y/4+2],a=g()[y/4+3],l=o,w=_;if(a)throw l=0,w=0,k(c);return n=l,r=w,p(l,w)}finally{s.__wbindgen_add_to_stack_pointer(16),s.__wbindgen_free(n,r,1)}}getBounds(){try{const o=s.__wbindgen_add_to_stack_pointer(-16);s.jsnetwork_getBounds(o,this.__wbg_ptr);var e=g()[o/4+0],n=g()[o/4+1],r=Se(e,n).slice();return s.__wbindgen_free(e,n*8),r}finally{s.__wbindgen_add_to_stack_pointer(16)}}debugNetwork(){let e,n;try{const w=s.__wbindgen_add_to_stack_pointer(-16);s.jsnetwork_debugNetwork(w,this.__wbg_ptr);var r=g()[w/4+0],o=g()[w/4+1],_=g()[w/4+2],c=g()[w/4+3],a=r,l=o;if(c)throw a=0,l=0,k(_);return e=a,n=l,p(a,l)}finally{s.__wbindgen_add_to_stack_pointer(16),s.__wbindgen_free(e,n,1)}}}async function je(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function Ae(){const t={};return t.wbg={},t.wbg.__wbindgen_string_new=function(e,n){const r=p(e,n);return f(r)},t.wbg.__wbindgen_string_get=function(e,n){const r=i(n),o=typeof r=="string"?r:void 0;var _=A(o)?0:Z(o,s.__wbindgen_malloc,s.__wbindgen_realloc),c=S;g()[e/4+1]=c,g()[e/4+0]=_},t.wbg.__wbindgen_object_drop_ref=function(e){k(e)},t.wbg.__wbindgen_number_get=function(e,n){const r=i(n),o=typeof r=="number"?r:void 0;te()[e/8+1]=A(o)?0:o,g()[e/4+0]=!A(o)},t.wbg.__wbindgen_is_string=function(e){return typeof i(e)=="string"},t.wbg.__wbindgen_is_object=function(e){const n=i(e);return typeof n=="object"&&n!==null},t.wbg.__wbindgen_is_undefined=function(e){return i(e)===void 0},t.wbg.__wbindgen_in=function(e,n){return i(e)in i(n)},t.wbg.__wbindgen_is_bigint=function(e){return typeof i(e)=="bigint"},t.wbg.__wbindgen_bigint_from_u64=function(e){const n=BigInt.asUintN(64,e);return f(n)},t.wbg.__wbindgen_jsval_eq=function(e,n){return i(e)===i(n)},t.wbg.__wbindgen_error_new=function(e,n){const r=new Error(p(e,n));return f(r)},t.wbg.__wbindgen_object_clone_ref=function(e){const n=i(e);return f(n)},t.wbg.__wbindgen_jsval_loose_eq=function(e,n){return i(e)==i(n)},t.wbg.__wbindgen_boolean_get=function(e){const n=i(e);return typeof n=="boolean"?n?1:0:2},t.wbg.__wbindgen_number_new=function(e){return f(e)},t.wbg.__wbg_getwithrefkey_3b3c46ba20582127=function(e,n){const r=i(e)[i(n)];return f(r)},t.wbg.__wbg_new_abda76e883ba8a5f=function(){const e=new Error;return f(e)},t.wbg.__wbg_stack_658279fe44541cf6=function(e,n){const r=i(n).stack,o=Z(r,s.__wbindgen_malloc,s.__wbindgen_realloc),_=S;g()[e/4+1]=_,g()[e/4+0]=o},t.wbg.__wbg_error_f851667af71bcfc6=function(e,n){let r,o;try{r=e,o=n,console.error(p(e,n))}finally{s.__wbindgen_free(r,o,1)}},t.wbg.__wbg_getwithrefkey_5e6d9547403deab8=function(e,n){const r=i(e)[i(n)];return f(r)},t.wbg.__wbg_set_841ac57cff3d672b=function(e,n,r){i(e)[k(n)]=k(r)},t.wbg.__wbg_now_0cfdc90c97d0c24b=function(e){return i(e).now()},t.wbg.__wbg_debug_9a6b3243fbbebb61=function(e){console.debug(i(e))},t.wbg.__wbg_error_788ae33f81d3b84b=function(e){console.error(i(e))},t.wbg.__wbg_info_2e30e8204b29d91d=function(e){console.info(i(e))},t.wbg.__wbg_log_1d3ae0273d8f4f8a=function(e){console.log(i(e))},t.wbg.__wbg_warn_d60e832f9882c1b2=function(e){console.warn(i(e))},t.wbg.__wbg_get_44be0491f933a435=function(e,n){const r=i(e)[n>>>0];return f(r)},t.wbg.__wbg_length_fff51ee6522a1a18=function(e){return i(e).length},t.wbg.__wbg_new_898a68150f225f2e=function(){const e=new Array;return f(e)},t.wbg.__wbindgen_is_function=function(e){return typeof i(e)=="function"},t.wbg.__wbg_newnoargs_581967eacc0e2604=function(e,n){const r=new Function(p(e,n));return f(r)},t.wbg.__wbg_next_526fc47e980da008=function(e){const n=i(e).next;return f(n)},t.wbg.__wbg_next_ddb3312ca1c4e32a=function(){return h(function(e){const n=i(e).next();return f(n)},arguments)},t.wbg.__wbg_done_5c1f01fb660d73b5=function(e){return i(e).done},t.wbg.__wbg_value_1695675138684bd5=function(e){const n=i(e).value;return f(n)},t.wbg.__wbg_iterator_97f0c81209c6c35a=function(){return f(Symbol.iterator)},t.wbg.__wbg_get_97b561fb56f034b5=function(){return h(function(e,n){const r=Reflect.get(i(e),i(n));return f(r)},arguments)},t.wbg.__wbg_call_cb65541d95d71282=function(){return h(function(e,n){const r=i(e).call(i(n));return f(r)},arguments)},t.wbg.__wbg_new_b51585de1b234aff=function(){const e=new Object;return f(e)},t.wbg.__wbg_self_1ff1d729e9aae938=function(){return h(function(){const e=self.self;return f(e)},arguments)},t.wbg.__wbg_window_5f4faef6c12b79ec=function(){return h(function(){const e=window.window;return f(e)},arguments)},t.wbg.__wbg_globalThis_1d39714405582d3c=function(){return h(function(){const e=globalThis.globalThis;return f(e)},arguments)},t.wbg.__wbg_global_651f05c6a0944d1c=function(){return h(function(){const e=global.global;return f(e)},arguments)},t.wbg.__wbg_set_502d29070ea18557=function(e,n,r){i(e)[n>>>0]=k(r)},t.wbg.__wbg_instanceof_ArrayBuffer_39ac22089b74fddb=function(e){let n;try{n=i(e)instanceof ArrayBuffer}catch{n=!1}return n},t.wbg.__wbg_isSafeInteger_bb8e18dd21c97288=function(e){return Number.isSafeInteger(i(e))},t.wbg.__wbg_entries_e51f29c7bba0c054=function(e){const n=Object.entries(i(e));return f(n)},t.wbg.__wbg_buffer_085ec1f694018c4f=function(e){const n=i(e).buffer;return f(n)},t.wbg.__wbg_new_8125e318e6245eed=function(e){const n=new Uint8Array(i(e));return f(n)},t.wbg.__wbg_set_5cf90238115182c3=function(e,n,r){i(e).set(i(n),r>>>0)},t.wbg.__wbg_length_72e2208bbc0efc61=function(e){return i(e).length},t.wbg.__wbg_instanceof_Uint8Array_d8d9cb2b8e8ac1d4=function(e){let n;try{n=i(e)instanceof Uint8Array}catch{n=!1}return n},t.wbg.__wbindgen_bigint_get_as_i64=function(e,n){const r=i(n),o=typeof r=="bigint"?r:void 0;pe()[e/8+1]=A(o)?BigInt(0):o,g()[e/4+0]=!A(o)},t.wbg.__wbindgen_debug_string=function(e,n){const r=G(i(n)),o=Z(r,s.__wbindgen_malloc,s.__wbindgen_realloc),_=S;g()[e/4+1]=_,g()[e/4+0]=o},t.wbg.__wbindgen_throw=function(e,n){throw new Error(p(e,n))},t.wbg.__wbindgen_memory=function(){const e=s.memory;return f(e)},t}function Me(t,e){return s=t.exports,Ie.__wbindgen_wasm_module=e,v=null,T=null,I=null,M=null,s}async function Ie(t){if(s!==void 0)return s;typeof t>"u"&&(t="/od2net/assets/wasm_od2net_bg.wasm");const e=Ae();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await je(await t,e);return Me(n,r)}export{ve as G,J,Ie as _};
