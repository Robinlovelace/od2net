import{S as M,i as O,s as j,L as B,c,a as $,t as m,b as d,d as g,o as E,H as N,e as y,f as q,g as S,h as v,l as C,n as b,q as A,E as H,v as L,M as I,x as J,y as P,z as k,A as z,_ as F,a6 as G,a3 as w,a4 as R,a7 as T,a8 as D}from"./Layout-e9bd37ce.js";import{_ as U,J as W,G as Z}from"./@vite-plugin-wasm-pack@wasm-od2net-06f26cd5.js";function K(r){let t,n,e,a,s,i,o,l,f,h,u;return n=new N({props:{app:"costs"}}),{c(){t=y("div"),c(n.$$.fragment),e=q(),a=y("label"),s=S("Open a "),i=y("i"),i.textContent=".bin",o=S(` network file
      `),l=y("input"),v(l,"type","file"),v(t,"slot","left")},m(p,_){C(p,t,_),$(n,t,null),b(t,e),b(t,a),b(a,s),b(a,i),b(a,o),b(a,l),r[6](l),f=!0,h||(u=A(l,"change",r[3]),h=!0)},p:H,i(p){f||(m(n.$$.fragment,p),f=!0)},o(p){d(n.$$.fragment,p),f=!1},d(p){p&&L(t),g(n),r[6](null),h=!1,u()}}}function Q(r){let t,n;return t=new D({props:{properties:r[8][0].properties}}),{c(){c(t.$$.fragment)},m(e,a){$(t,e,a),n=!0},p(e,a){const s={};a&256&&(s.properties=e[8][0].properties),t.$set(s)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function V(r){let t,n;return t=new T({props:{openOn:"hover",$$slots:{default:[Q,({features:e})=>({8:e}),({features:e})=>e?256:0]},$$scope:{ctx:r}}}),{c(){c(t.$$.fragment)},m(e,a){$(t,e,a),n=!0},p(e,a){const s={};a&768&&(s.$$scope={dirty:a,ctx:e}),t.$set(s)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function X(r){let t,n;return t=new G({props:{manageHoverState:!0,hoverCursor:"pointer",paint:{"line-width":3,"line-color":["match",["get","lts"],1,w.lts1,2,w.lts2,3,w.lts3,4,w.lts4,w.lts_unknown],"line-opacity":R(1,.5)},beforeId:"Road labels",$$slots:{default:[V]},$$scope:{ctx:r}}}),t.$on("click",r[4]),{c(){c(t.$$.fragment)},m(e,a){$(t,e,a),n=!0},p(e,a){const s={};a&512&&(s.$$scope={dirty:a,ctx:e}),t.$set(s)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function Y(r){let t,n;return t=new Z({props:{data:r[1],$$slots:{default:[X]},$$scope:{ctx:r}}}),{c(){c(t.$$.fragment)},m(e,a){$(t,e,a),n=!0},p(e,a){const s={};a&2&&(s.data=e[1]),a&512&&(s.$$scope={dirty:a,ctx:e}),t.$set(s)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function x(r){let t,n,e,a;function s(o){r[5](o)}let i={style:"https://api.maptiler.com/maps/dataviz/style.json?key=MZEJTanw3WpxRvt7qDfo",standardControls:!0,hash:!0,$$slots:{default:[Y]},$$scope:{ctx:r}};return r[0]!==void 0&&(i.map=r[0]),n=new I({props:i}),J.push(()=>P(n,"map",s)),{c(){t=y("div"),c(n.$$.fragment),v(t,"slot","main"),k(t,"position","relative"),k(t,"width","100%"),k(t,"height","100vh")},m(o,l){C(o,t,l),$(n,t,null),a=!0},p(o,l){const f={};l&514&&(f.$$scope={dirty:l,ctx:o}),!e&&l&1&&(e=!0,f.map=o[0],z(()=>e=!1)),n.$set(f)},i(o){a||(m(n.$$.fragment,o),a=!0)},o(o){d(n.$$.fragment,o),a=!1},d(o){o&&L(t),g(n)}}}function ee(r){let t,n;return t=new B({props:{$$slots:{main:[x],left:[K]},$$scope:{ctx:r}}}),{c(){c(t.$$.fragment)},m(e,a){$(t,e,a),n=!0},p(e,[a]){const s={};a&519&&(s.$$scope={dirty:a,ctx:e}),t.$set(s)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function te(r){let t=r.properties.way;window.open(`http://openstreetmap.org/way/${t}`,"_blank")}function ne(r,t,n){E(async()=>{await U(),await F()});let e,a,s={type:"FeatureCollection",features:[]},i;async function o(u){try{let p=await i.files[0].arrayBuffer();a=new W(new Uint8Array(p));let _=a.getBounds();e.fitBounds([[_[0],_[1]],[_[2],_[3]]],{padding:20,animate:!1}),n(1,s=JSON.parse(a.debugNetwork()))}catch(p){window.alert(`Problem loading network file: ${p}`)}}const l=u=>te(u.detail.features[0]);function f(u){e=u,n(0,e)}function h(u){J[u?"unshift":"push"](()=>{i=u,n(2,i)})}return[e,s,i,o,l,f,h]}class ae extends M{constructor(t){super(),O(this,t,ne,ee,j,{})}}new ae({target:document.getElementById("app")});
